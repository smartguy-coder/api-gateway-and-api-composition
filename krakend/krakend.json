{
  "version": 3,
  "name": "My API Gateway",
  "port": 8080,
  "cache_ttl": "300s",
  "endpoints": [
    {
      "endpoint": "/user-delivery/health_check/",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/health_check/",
          "host": [
            "http://delivery_service:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/user-delivery/{user_id}",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/{user_id}",
          "host": [
            "http://delivery_service:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/users/health_check/",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/health_check",
          "host": [
            "http://users_service:8002"
          ]
        }
      ]
    },
    {
      "endpoint": "/users/{user_id}",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/{user_id}",
          "host": [
            "http://users_service:8002"
          ]
        }
      ]
    },


    {
      "endpoint": "/users-composition/{user_id}",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/{user_id}",
          "host": [
            "http://users_service:8002"
          ]
        },
        {
          "url_pattern": "/{user_id}",
          "host": [
            "http://delivery_service:8001"
          ]
        }
      ]
    }
  ]
}
